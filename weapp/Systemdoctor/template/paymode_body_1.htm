
    <div class="{if condition='empty($channelRow.data.is_article_pay)'} none {/if}">
        <form class="form-horizontal" id="post_form_1" method="post">
            <dl class="row">
                <dt class="tit">
                    <label>付费限制</label>
                </dt>
                <dd class="opt">
                    <label class="curpoin"><input type="radio" name="restric_type" value="0" checked="checked">免费</label>&nbsp;&nbsp;
                    <label class="curpoin"><input type="radio" name="restric_type" value="1">付费</label>&nbsp;&nbsp;
                    <label class="curpoin"><input type="radio" name="restric_type" value="2">指定会员</label>&nbsp;&nbsp;
                    <label class="curpoin"><input type="radio" name="restric_type" value="3">会员付费</label>&nbsp;&nbsp;
                </dd>
            </dl>
            <dl class="row none" id="dl_arc_level_id">
                <dt class="tit">
                    <label><em>*</em>会员等级</label>
                </dt>
                <dd class="opt">
                    <select name="arc_level_id" id="arc_level_id">
                        {volist name="users_level" id="vo"}
                        <option value="{$vo.level_id}" level_value="{$vo.level_value}">{$vo.level_name}</option>
                        {/volist}
                    </select>
                    <label id="no_vip_pay_label"><input type="checkbox" name="no_vip_pay" id="no_vip_pay" value="1" onClick="clickNoVipPay(this);">开启非会员付费</label>
                </dd>
            </dl>
            <dl class="row none" id="dl_users_price">
                <dt class="tit">
                    <label for="users_price"><em>*</em>购买价格</label>
                </dt>
                <dd class="opt">
                    <input type="text" name="users_price" id="users_price" class="input-txt" autocomplete="off" style="width: 100px !important;text-align: right;" onkeyup="this.value=this.value.replace(/[^\d\.]/g,'');" onpaste="this.value=this.value.replace(/[^\d\.]/g,'')">&nbsp;元
                    <span class="err"></span>
                    <p class="notic"></p>
                </dd>
            </dl>
			 <div class="{if condition='empty($field.restric_type)'} none {/if}" id="div_free_html">
                    <dl class="row" id="dl_part_free">
                        <dt class="tit">
                            <label for="title"><em>*</em>免费内容</label>
                        </dt>
                        <dd class="opt">
                            <label class="curpoin"><input type="radio" name="part_free" value="0" {if condition="empty($field.part_free)"} checked {/if} onclick="change_part_free(this);">不预览</label>&nbsp;
                            <label class="curpoin"><input type="radio" name="part_free" value="2" {if condition="!empty($field.part_free) and $field.part_free eq '2'"} checked {/if} onclick="change_part_free(this);">自动截取</label>&nbsp;          
						   <span class="err"></span>
                            <p class="notic"></p>
                        </dd>
                    </dl>
                    <dl class="row {if condition="empty($field.part_free) or $field.part_free neq '2'"} none {/if}" id="dl_size">
                        <dt class="tit">
                            <label for="size">大小</label>
                        </dt>
                        <dd class="opt">
                            <input type="text" name="size" value="{$field.size|default=1024}" id="size" class="input-txt" maxlength="100" autocomplete="off" style="width: 100px !important;text-align: right;" onkeyup="this.value=this.value.replace(/[^\d\.]/g,'');" onpaste="this.value=this.value.replace(/[^\d\.]/g,'')">&nbsp;字节(1024字节=1KB)
                            <span class="err"></span>
                            <p class="notic"></p>
                        </dd>
                    </dl>
                </div>
            <div class="bot">
                <input type="hidden" name="channel" value="{$channel}">
                <a class="ncap-btn-big ncap-btn-green" type="button" onclick="checkForm_1();">确认批量处理</a>
            </div>
        </form>
        <script type="text/javascript">
            
            $(function(){
                $('input[name=restric_type]').click(function(){
                    $('#dl_arc_level_id').hide();
                    $('#dl_users_price').hide();
                    $('#no_vip_pay_label').hide();
                    $('#div_free_html').hide();
                    var restric_type = $(this).val();
                    $('#arc_level_id').find('option:eq(0)').attr('selected',true);
                    if (0 < restric_type) {
                        $('#div_free_html').show();
                    }
                    if (-1 < $.inArray(restric_type, ['1','3'])) {
                        $('#dl_users_price').show();
                    }
                    if (-1 < $.inArray(restric_type, ['2','3'])) {
                        $('#dl_arc_level_id').show();
                        if (2 == restric_type) {
                            $('#no_vip_pay_label').show();
                            if ($('#no_vip_pay').is(':checked')){
                                $('#dl_users_price').show();
                            }
                        }
                    }
                });
            });
            
            function clickNoVipPay(obj) {
                if ($(obj).is(':checked')) {
                    $('#dl_users_price').show();
                } else {
                    $('#dl_users_price').hide();
                }
            }
			
		function change_part_free(e) {
        if (1 == $(e).val()){
            $('#dl_size').hide();
            $('#part_free_span').show();
            open_free_content();
        }else if (2 == $(e).val()){
            $('#part_free_span').hide();
            $('#dl_size').show();
        } else{
            $('#part_free_span').hide();
            $('#dl_size').hide();
        }
    }

            // 判断输入框是否为空
            function checkForm_1(){
                var is_article_pay = {$channelRow['data']['is_article_pay']|default=0};
                if (is_article_pay != 0) {
                    var restric_type = $('input[name=restric_type]:checked').val();
                    if ( restric_type == 1 ||  restric_type == 3 || (restric_type == 2 && $('#no_vip_pay').is(':checked'))){
                        var users_price = $('#users_price').val();
                        if (parseFloat(users_price).toString()  == "NaN") {
                            users_price = 0;
                        }
                        if (0 == users_price || users_price == '') {
                            showErrorMsg('购买价格不能为空或0');
                            $('#users_price').focus();
                            return false;
                        } else {
                            var exp = /^(([1-9]\d*)|\d)(\.\d{1,2})?$/;
                            if (!exp.test(users_price)) {
                                showErrorMsg('购买价格格式不正确！');
                                $('#users_price').focus();
                                return false;
                            }
                        }
                    }
                }
                submit_form('post_form_1');
            }
        </script>
    </div>
    <hr/>
    <form class="form-horizontal" id="post_form_2" method="post">

         <dl class="rorw">
            <dt class="tit">
                <label for="other_arcclick">文档浏览量</label>
            </dt>
            <dd class="opt">
                <input id="other_arcclick" name="other_arcclick" value="0" onkeyup="this.value=this.value.replace(/[^\|\d]/g,'');" onpaste="this.value=this.value.replace(/[^\|\d]/g,'')" class="input-txt" type="text" />
				 	<span class="err"></span>	
                <p class="notic2">默认值为0，则不做任何处理，500|1000则表示在500和1000的区间随机提取浏览量</p>
            </dd> 
        </dl>
	
		<dl class="row">
                <dt class="tit">
                    <label for="author">作者</label>
                </dt>
                <dd class="opt">
                    <input type="hidden"  type="checkbox"  value="{$field.users_id}" name="users_id" class="input-txt">
                    <input type="text" value="{$Think.session.admin_info.pen_name|default='小编'}" name="author" id="pen_name" class="input-txt">
                    <span class="setting" onclick="set_author('{$Think.session.admin_info.pen_name|default='小编'}');">设置</span>
					
					 <button class="setting" type="button" onclick="deleteRow(this)">此项不操作</button>
					 <p class="notic">点击'此项不操'作将不会保存</p>
				 	<span class="err"></span>	
                    <p class="notic2">输入不保存默认作者（笔者），需要同时修改系统作者点设置就可以</p>
                </dd>
            </dl>
        <div class="bot">
		 
  
            <input type="hidden" name="channel" value="{$channel}">
            <a class="ncap-btn-big ncap-btn-green" type="button" onclick="submit_form('post_form_2');">确认批量处理</a>
        </div>
    </form>